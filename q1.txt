
STEP 1: Create an instance
 
To launch the EC2 instance

Open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.

Choose Launch Instance.

In Step 1: Choose an Amazon Machine Image (AMI), find an Amazon Linux AMI at the top of the list and choose Select.

In Step 2: Choose an Instance Type, choose Next: Configure Instance Details.

In Step 3: Configure Instance Details, choose Network, and then choose the entry for your default VPC. It should look something like vpc-xxxxxxx (172.31.0.0/16) (default).

Choose Subnet, and then choose a subnet in any Availability Zone.

Choose Next: Add Storage.

Choose Next: Add Tags. Tag:name,Value:ec2-mouni

choose Next: Configure Security Group.mounika-security-group

Choose Review and Launch.

Choose Launch.

Select the check box for the key pair:mouni.pem that you created, and then choose Launch Instances.

Choose View Instances.

 Step 2: Create Your Amazon EFS File System

To create your Amazon EFS file system

Open the Amazon EFS Management Console at https://console.aws.amazon.com/efs/.

Choose Create File System.

Choose your default VPC from the VPC list. It has the same VPC ID that you noted at the end of Step 1: Create Your EC2 Resources and Launch Your EC2 Instance.

Select the check boxes for all of the Availability Zones. Make sure that they all have the default subnets, automatic IP addresses, and the default security groups chosen. These are your mount targets. For more information, see Creating Mount Targets.


Choose Next Step.

Name your file system, and add tag:name value:ec2-mouni

Keep General Purpose and Bursting selected as your default performance and throughput modes.

(Optional) Select Enable Lifecycle Management .

Review the file system configuration, and then choose Create File System.

Choose your file system from the list and note the File system ID value. You need this value for the next step.

To connect to your Amazon EC2 instance and mount the Amazon EFS file system

Connect to your Amazon EC2 instance. 

After you've connected, install the amazon-efs-utils package, which has the Amazon EFS mount helper.

Run the following command to install amazon-efs-utils.

sudo yum install -y amazon-efs-utils
Note

For more information on the amazon-efs-utils package, including installation instructions for other Linux distributions, see Using the amazon-efs-utils Tools.

Make a directory for the mount point with the following command.

$ sudo mkdir /mnt/efs
Mount the Amazon EFS file system to the directory that you created. Use the following command and replace file-system-id with your File System ID value.

sudo mount -t efs fs-12345678:/ /mnt/efs
Note

We recommend that you wait 90 seconds after creating a mount target before you mount your file system.

Change directories to the new directory that you created with the following command.

$ cd /mnt/efs
Make a subdirectory and change the ownership of that subdirectory to your EC2 instance user. Then navigate to that new directory with the following commands.

$ sudo mkdir getting-started
$ sudo chown ec2-user getting-started
$ cd getting-started
Create a index file with the following command.

$ touch index.html
List the directory contents with the following command.

$ ls -al
As a result, the following file is created.

-rw-rw-r-- 1 ec2-user ec2-user 0 Aug 3 15:32 index.html
 by using url we can open file
by using snapshot id



 
